<template><div><h1 id="ğŸ¤–http-bot" tabindex="-1"><a class="header-anchor" href="#ğŸ¤–http-bot" aria-hidden="true">#</a> ğŸ¤–Http-BOT</h1>
<div class="custom-container warning"><p class="custom-container-title">ç¼–å†™ä¸­é¡µé¢æé†’</p>
<p>æœ¬é¡µé¢ä»å¤„äºç¼–å†™çŠ¶æ€ä¸­ï¼Œå†…å®¹å¯èƒ½ä¸å…¨é¢ï¼Œä¼šå¯¹é˜…è¯»é€ æˆä¸€å®šçš„å½±å“ï¼</p>
</div>
<h2 id="ä¸ºä»€ä¹ˆå¼€å‘" tabindex="-1"><a class="header-anchor" href="#ä¸ºä»€ä¹ˆå¼€å‘" aria-hidden="true">#</a> ä¸ºä»€ä¹ˆå¼€å‘ï¼Ÿ</h2>
<p>ç”±äºç›®å‰æˆ‘çš„ä¸–ç•Œçš„Script-apiæ— æ³•å®ç°è¯¸å¦‚æ–‡ä»¶è¯»å†™ç­‰åŠŸèƒ½,ä¸ºæ­¤æˆ‘ä»¬ç‰¹æ­¤åŸºäºC++å¼€å‘äº†<code v-pre>NIA-Http-Bot</code>ç”¨æ¥å®ç°æ›´å¤šåŠŸèƒ½ï¼Œä»è€Œèµ‹äºˆScript-apiæ›´å¤šå¯èƒ½</p>
<h2 id="ä½¿ç”¨å‰æ³¨æ„äº‹é¡¹" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨å‰æ³¨æ„äº‹é¡¹" aria-hidden="true">#</a> ä½¿ç”¨å‰æ³¨æ„äº‹é¡¹</h2>
<p>è¯·æ³¨æ„å¯ç”¨<strong>NETæ¨¡å—</strong>...</p>
<h2 id="apiä¸€è§ˆè¡¨" tabindex="-1"><a class="header-anchor" href="#apiä¸€è§ˆè¡¨" aria-hidden="true">#</a> APIä¸€è§ˆè¡¨</h2>
<h3 id="get-checkserver-å¼€å‘ä¸­" tabindex="-1"><a class="header-anchor" href="#get-checkserver-å¼€å‘ä¸­" aria-hidden="true">#</a> [GET] <code v-pre>/CheckServer</code>ï¼ˆå¼€å‘ä¸­ï¼‰</h3>
<p>è¿”å›å½“å‰<code v-pre>NIAHttpBOT</code>çš„çŠ¶æ€ï¼Œå¤šç”¨äºæ£€æµ‹ä¾èµ–æœåŠ¡å™¨æœ‰æ²¡æœ‰æ­£å¸¸å¼€å¯</p>
<h3 id="get-gettime-å¼€å‘ä¸­" tabindex="-1"><a class="header-anchor" href="#get-gettime-å¼€å‘ä¸­" aria-hidden="true">#</a> [GET] <code v-pre>/GetTime</code>ï¼ˆå¼€å‘ä¸­ï¼‰</h3>
<p>è·å–å½“å‰æ—¶é—´ï¼Œè¿”å›å½¢å¦‚&quot;2019-01-28 12:53&quot;çš„å­—ç¬¦ä¸²</p>
<p>ä½¿ç”¨ç¤ºä¾‹</p>
<div class="language-javascript line-numbers-mode" data-ext="js"><pre v-pre class="language-javascript"><code><span class="token keyword">const</span> port <span class="token operator">=</span> <span class="token number">3000</span>
<span class="token keyword">const</span> reqGetTime <span class="token operator">=</span> http<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">http://127.0.0.1:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>port<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/GetTime</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
    reqServerStarted<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>response<span class="token punctuation">.</span>status <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>body<span class="token punctuation">)</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"Dependent server connection failed! Check whether the dependent server started successfully."</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="post-checkfile" tabindex="-1"><a class="header-anchor" href="#post-checkfile" aria-hidden="true">#</a> [POST] <code v-pre>/CheckFile</code></h3>
<p>æ£€æŸ¥ä¸€ä¸ªæ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼Œç›®æ ‡æ–‡ä»¶å­˜åœ¨åˆ™è¿”å›<code v-pre>true</code>ï¼Œä¸å­˜åœ¨åˆ™è¿”å›<code v-pre>false</code></p>
<p>ä½¿ç”¨ç¤ºä¾‹</p>
<div class="language-javascript line-numbers-mode" data-ext="js"><pre v-pre class="language-javascript"><code><span class="token keyword">const</span> port <span class="token operator">=</span> <span class="token number">3000</span>
<span class="token keyword">const</span> reqCheckFile <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpRequest</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">http://127.0.0.1:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>port<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/CheckFile</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    reqCheckFile<span class="token punctuation">.</span>body <span class="token operator">=</span> <span class="token string">"FileName.json"</span>
    reqCheckFile<span class="token punctuation">.</span>method <span class="token operator">=</span> HttpRequestMethod<span class="token punctuation">.</span><span class="token constant">POST</span><span class="token punctuation">;</span>
    reqCheckFile<span class="token punctuation">.</span>headers <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token keyword">new</span> <span class="token class-name">HttpHeader</span><span class="token punctuation">(</span><span class="token string">"Content-Type"</span><span class="token punctuation">,</span> <span class="token string">"text/plain"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
http<span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span>reqCheckFile<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>response<span class="token punctuation">.</span>status <span class="token operator">==</span> <span class="token number">200</span> <span class="token operator">&amp;&amp;</span> response<span class="token punctuation">.</span>body <span class="token operator">==</span> <span class="token string">"true"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"Target file exists."</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>response<span class="token punctuation">.</span>status <span class="token operator">==</span> <span class="token number">200</span> <span class="token operator">&amp;&amp;</span> response<span class="token punctuation">.</span>body <span class="token operator">==</span> <span class="token string">"false"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"The target file does not exist"</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"Dependent server connection failed! Check whether the dependent server started successfully."</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="post-deletefile-å¼€å‘ä¸­" tabindex="-1"><a class="header-anchor" href="#post-deletefile-å¼€å‘ä¸­" aria-hidden="true">#</a> [POST] <code v-pre>/DeleteFile</code>ï¼ˆå¼€å‘ä¸­ï¼‰</h3>
<p>åˆ é™¤ä¸€ä¸ªæ–‡ä»¶ï¼Œåˆ é™¤æˆåŠŸè¿”å›<code v-pre>success</code>ï¼Œåˆ é™¤å¤±è´¥åˆ™è¿”å›<code v-pre>fail</code></p>
<p>ä½¿ç”¨ç¤ºä¾‹</p>
<div class="language-javascript line-numbers-mode" data-ext="js"><pre v-pre class="language-javascript"><code><span class="token keyword">const</span> port <span class="token operator">=</span> <span class="token number">3000</span>
<span class="token keyword">const</span> reqDeleteFile <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpRequest</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">http://127.0.0.1:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>port<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/DeleteFile</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    reqDeleteFile<span class="token punctuation">.</span>body <span class="token operator">=</span> <span class="token string">"./test/FileName.json"</span>
    reqDeleteFile<span class="token punctuation">.</span>method <span class="token operator">=</span> HttpRequestMethod<span class="token punctuation">.</span><span class="token constant">POST</span><span class="token punctuation">;</span>
    reqDeleteFile<span class="token punctuation">.</span>headers <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token keyword">new</span> <span class="token class-name">HttpHeader</span><span class="token punctuation">(</span><span class="token string">"Content-Type"</span><span class="token punctuation">,</span> <span class="token string">"text/plain"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    http<span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span>reqDeleteFile<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>response<span class="token punctuation">.</span>status <span class="token operator">==</span> <span class="token number">200</span> <span class="token operator">&amp;&amp;</span> response<span class="token punctuation">.</span>body <span class="token operator">==</span> <span class="token string">"success"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"Target file deleted successfully!"</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"Dependent server connection failed! Check whether the dependent server started successfully."</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="post-createnewjsonfile" tabindex="-1"><a class="header-anchor" href="#post-createnewjsonfile" aria-hidden="true">#</a> [POST] <code v-pre>/CreateNewJsonFile</code></h3>
<p>åˆ›å»ºä¸€ä¸ªJSONæ–‡ä»¶ï¼Œåˆ›å»ºæˆåŠŸè¿”å›<code v-pre>success</code>ï¼Œåˆ›å»ºå¤±è´¥åˆ™è¿”å›<code v-pre>å¤±è´¥åŸå› </code></p>
<table>
<thead>
<tr>
<th style="text-align:center">å¤±è´¥åŸå› å†…å®¹</th>
<th style="text-align:center">å¯¹åº”ä¸­æ–‡</th>
<th style="text-align:center">è§£å†³åŠæ³•</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Data parsing failed</td>
<td style="text-align:center">å¯¹è±¡æ•°æ®è§£æå¤±è´¥</td>
<td style="text-align:center">è¯·æ£€æŸ¥å‘é€çš„å¯¹è±¡æ•°æ®æ ¼å¼æ˜¯å¦æ­£ç¡®</td>
</tr>
<tr>
<td style="text-align:center">Incorrect data format, please recheck and send again.</td>
<td style="text-align:center">é”™è¯¯çš„æ•°æ®æ ¼å¼</td>
<td style="text-align:center">è¯·æ£€æŸ¥å‘é€çš„å¯¹è±¡æ•°æ®æ ¼å¼æ˜¯å¦åŒç¤ºä¾‹ä¸€æ ·ï¼ˆåŒ…æ‹¬å¤§å°å†™ï¼‰</td>
</tr>
</tbody>
</table>
<p>ä½¿ç”¨ç¤ºä¾‹</p>
<div class="language-javascript line-numbers-mode" data-ext="js"><pre v-pre class="language-javascript"><code><span class="token keyword">const</span> port <span class="token operator">=</span> <span class="token number">3000</span>
<span class="token keyword">const</span> reqCreateNewJsonFile <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpRequest</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">http://127.0.0.1:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>port<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/CreateNewJsonFile</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    reqCreateNewJsonFile<span class="token punctuation">.</span>body <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string-property property">"fileName"</span><span class="token operator">:</span><span class="token string">"market111.json"</span><span class="token punctuation">,</span><span class="token string-property property">"fileContent"</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token string-property property">"a"</span><span class="token operator">:</span><span class="token number">10</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    reqCreateNewJsonFile<span class="token punctuation">.</span>method <span class="token operator">=</span> HttpRequestMethod<span class="token punctuation">.</span><span class="token constant">POST</span><span class="token punctuation">;</span>
    reqCreateNewJsonFile<span class="token punctuation">.</span>headers <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token keyword">new</span> <span class="token class-name">HttpHeader</span><span class="token punctuation">(</span><span class="token string">"Content-Type"</span><span class="token punctuation">,</span> <span class="token string">"text/plain"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
http<span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span>reqCreateNewJsonFile<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>response<span class="token punctuation">.</span>status <span class="token operator">==</span> <span class="token number">200</span> <span class="token operator">&amp;&amp;</span> response<span class="token punctuation">.</span>body <span class="token operator">==</span> <span class="token string">"success"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"File created successfully!"</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>response<span class="token punctuation">.</span>status <span class="token operator">==</span> <span class="token number">200</span> <span class="token operator">&amp;&amp;</span> response<span class="token punctuation">.</span>body <span class="token operator">!=</span> <span class="token string">"success"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>body<span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"Dependent server connection failed! Check whether the dependent server started successfully."</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="post-getjsonfiledata" tabindex="-1"><a class="header-anchor" href="#post-getjsonfiledata" aria-hidden="true">#</a> [POST] <code v-pre>/GetJsonFileData</code></h3>
<p>è·å–JSONæ–‡ä»¶æ•°æ®ï¼Œè·å–æˆåŠŸåˆ™è¿”å›jsonæ ¼å¼çš„æ•°æ®ï¼Œåˆ é™¤å¤±è´¥åˆ™è¿”å›<code v-pre>fail</code></p>
<p>ä½¿ç”¨ç¤ºä¾‹</p>
<div class="language-javascript line-numbers-mode" data-ext="js"><pre v-pre class="language-javascript"><code><span class="token keyword">const</span> port <span class="token operator">=</span> <span class="token number">3000</span>
<span class="token keyword">const</span> reqGetFileData <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpRequest</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">http://127.0.0.1:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>port<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/GetFileData</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    reqGetFileData<span class="token punctuation">.</span>body <span class="token operator">=</span> <span class="token string">"./test/FileName.json"</span>
    reqGetFileData<span class="token punctuation">.</span>method <span class="token operator">=</span> HttpRequestMethod<span class="token punctuation">.</span><span class="token constant">POST</span><span class="token punctuation">;</span>
    reqGetFileData<span class="token punctuation">.</span>headers <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token keyword">new</span> <span class="token class-name">HttpHeader</span><span class="token punctuation">(</span><span class="token string">"Content-Type"</span><span class="token punctuation">,</span> <span class="token string">"text/plain"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    http<span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span>reqDeleteFile<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>response<span class="token punctuation">.</span>status <span class="token operator">==</span> <span class="token number">200</span> <span class="token operator">&amp;&amp;</span> response<span class="token punctuation">.</span>body <span class="token operator">!=</span> <span class="token string">"fail"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"Get file data successfully!"</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"Dependent server connection failed! Check whether the dependent server started successfully."</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="post-overwritejsonfiledata" tabindex="-1"><a class="header-anchor" href="#post-overwritejsonfiledata" aria-hidden="true">#</a> [POST] <code v-pre>/OverwriteJsonFileData</code></h3>
<p>è¦†ç›–JSONæ–‡ä»¶å†…å®¹ï¼Œè¦†ç›–æˆåŠŸåˆ™è¿”å›<code v-pre>success</code>ï¼Œè¦†ç›–å¤±è´¥åˆ™è¿”å›<code v-pre>å¤±è´¥åŸå› </code></p>
<table>
<thead>
<tr>
<th style="text-align:center">å¤±è´¥åŸå› å†…å®¹</th>
<th style="text-align:center">å¯¹åº”ä¸­æ–‡</th>
<th style="text-align:center">è§£å†³åŠæ³•</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Data parsing failed</td>
<td style="text-align:center">å¯¹è±¡æ•°æ®è§£æå¤±è´¥</td>
<td style="text-align:center">è¯·æ£€æŸ¥å‘é€çš„å¯¹è±¡æ•°æ®æ ¼å¼æ˜¯å¦æ­£ç¡®</td>
</tr>
<tr>
<td style="text-align:center">Incorrect data format, please recheck and send again.</td>
<td style="text-align:center">é”™è¯¯çš„æ•°æ®æ ¼å¼</td>
<td style="text-align:center">è¯·æ£€æŸ¥å‘é€çš„å¯¹è±¡æ•°æ®æ ¼å¼æ˜¯å¦åŒç¤ºä¾‹ä¸€æ ·ï¼ˆåŒ…æ‹¬å¤§å°å†™ï¼‰</td>
</tr>
</tbody>
</table>
<p>ä½¿ç”¨ç¤ºä¾‹</p>
<div class="language-javascript line-numbers-mode" data-ext="js"><pre v-pre class="language-javascript"><code><span class="token keyword">const</span> port <span class="token operator">=</span> <span class="token number">3000</span>
<span class="token keyword">const</span> reqOverwriteJsonFile <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpRequest</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">http://127.0.0.1:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>port<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/OverwriteJsonFile</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    reqOverwriteJsonFile<span class="token punctuation">.</span>body <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string-property property">"fileName"</span><span class="token operator">:</span><span class="token string">"FileName.json"</span><span class="token punctuation">,</span><span class="token string-property property">"fileData"</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token string-property property">"a"</span><span class="token operator">:</span><span class="token string">"å‘µå‘µå‘µå‘µ"</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    reqOverwriteJsonFile<span class="token punctuation">.</span>method <span class="token operator">=</span> HttpRequestMethod<span class="token punctuation">.</span><span class="token constant">POST</span><span class="token punctuation">;</span>
    reqOverwriteJsonFile<span class="token punctuation">.</span>headers <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token keyword">new</span> <span class="token class-name">HttpHeader</span><span class="token punctuation">(</span><span class="token string">"Content-Type"</span><span class="token punctuation">,</span> <span class="token string">"text/plain"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
http<span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span>reqOverwriteJsonFile<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>response<span class="token punctuation">.</span>status <span class="token operator">==</span> <span class="token number">200</span> <span class="token operator">&amp;&amp;</span> response<span class="token punctuation">.</span>body <span class="token operator">==</span> <span class="token string">"success"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"Overwrite file data successfully!"</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>response<span class="token punctuation">.</span>status <span class="token operator">==</span> <span class="token number">200</span> <span class="token operator">&amp;&amp;</span> response<span class="token punctuation">.</span>body <span class="token operator">!=</span> <span class="token string">"success"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>body<span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"Dependent server connection failed! Check whether the dependent server started successfully."</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="post-writelinetofile-å¼€å‘ä¸­" tabindex="-1"><a class="header-anchor" href="#post-writelinetofile-å¼€å‘ä¸­" aria-hidden="true">#</a> [POST] <code v-pre>/WriteLineToFile</code>ï¼ˆå¼€å‘ä¸­ï¼‰</h3>
<p>å‘ç›®æ ‡æ–‡ä»¶å†™å…¥ä¸€è¡Œå†…å®¹</p>
<h3 id="post-deletelinefromfile-å¼€å‘ä¸­" tabindex="-1"><a class="header-anchor" href="#post-deletelinefromfile-å¼€å‘ä¸­" aria-hidden="true">#</a> [POST] <code v-pre>/DeleteLineFromFile</code>ï¼ˆå¼€å‘ä¸­ï¼‰</h3>
<p>å‘ç›®æ ‡æ–‡ä»¶åˆ é™¤ä¸€è¡Œå†…å®¹</p>
<h3 id="post-overwritefiledata-å¼€å‘ä¸­" tabindex="-1"><a class="header-anchor" href="#post-overwritefiledata-å¼€å‘ä¸­" aria-hidden="true">#</a> [POST] <code v-pre>/OverwriteFileData</code>ï¼ˆå¼€å‘ä¸­ï¼‰</h3>
<p>è¦†ç›–æ–‡ä»¶å†…å®¹</p>
<h3 id="post-checkdir-å¼€å‘ä¸­" tabindex="-1"><a class="header-anchor" href="#post-checkdir-å¼€å‘ä¸­" aria-hidden="true">#</a> [POST] <code v-pre>/CheckDir</code>ï¼ˆå¼€å‘ä¸­ï¼‰</h3>
<p>æ£€æŸ¥ç›®æ ‡æ–‡ä»¶å¤¹æ˜¯å¦å­˜åœ¨</p>
<h3 id="post-createdir-å¼€å‘ä¸­" tabindex="-1"><a class="header-anchor" href="#post-createdir-å¼€å‘ä¸­" aria-hidden="true">#</a> [POST] <code v-pre>/CreateDir</code>ï¼ˆå¼€å‘ä¸­ï¼‰</h3>
<p>åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹</p>
</div></template>


